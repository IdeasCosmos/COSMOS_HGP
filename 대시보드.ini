아래 프롬프트를 그대로 A에게 붙여넣어라. 고무줄 느낌 제거, 당구식 직선 이동, 골드·화이트, 코돈·계층 크기 반영까지 포함.

```
역할: 인터랙티브 데이터 시각화·시뮬레이션 엔진 설계자
목표: “구슬=데이터”가 당구공처럼 직선으로 이동해 계층(bin)→라우터→아웃렛을 통과한다.
      스프링/탄성/고무줄/오버슈트 없는 ‘단단한’ 움직임. 골드&화이트. 메신저형 쉘.

금지사항:
- 스프링 기반 포스(훅의 법칙), 이징 오버슈트, 진동, 임의 지터(jitter), 곡선 경로.
- 점프·도약 애니. 선 따라 늘어나는 점선.

물리 사양(필수):
- 프레임: 60fps 고정, dt=1/60.
- 운동: v += a*dt; p += v*dt. 마찰 v *= 0.985. 최대속도 |v| ≤ 420 px/s.
- 가속도 a = normalize(target − p) * ACC[phase],  ACC = {inlet→bin:140, bin→router:160, router→outlet:220} px/s².
- 중력: phase==2일 때 a.y += 260*dt, 그 외 120*dt.
- 충돌: 원-원, 반발계수 e=0.35, 침투 보정 factor 0.4. 임계 이상 충돌시 “딱” 사운드.
- 도달判定: |target − p| < max(8, r*0.6) 이면 다음 phase. 차단이면 그 자리에서 정지.

경로:
- inlet→bin→router→outlet 3개 직선 세그먼트. 모든 커브 제거.
- 커넥터는 실선 #F3C94B, 1.5px. 차단 라인은 #EF4444, 2px, 대시 6/6.

색/테마:
- 배경 #FFFFFF, 서피스 #F9F9F9, 보더 #E0E0E0, 텍스트 #333.
- 정상 구슬: #E8B500 → 임계 근접(0.5~0.75): #6A4A00로 점진 흑화 → 차단(≥1.0): #000.
- 카드/패널은 골드 하이라이트만. 그림자 얕게.

크기(코돈×계층):
- 코돈 64개. 인덱스 idx = A/C/G/T를 0/1/2/3으로 base-4 해석(0..63).
- codonScale = 1.0 + (idx/63)*0.6.
- layerScale = [1.00,1.04,1.08,1.12,1.16,1.20,1.25] for L1..L7.
- 반지름 r = 4 * codonScale * layerScale * (0.9 + impact*0.6).

임계색 규칙:
- rel = impact / threshold.
- 0.0–0.5 금색, 0.5–0.75 점진 흑화, ≥1.0 검정 + 번호 태투 “-n”.

메타공(성능 옵션):
- aggregate=true, factor=10일 때 cat별 청크를 메타공 1개로 집계.
- 면적보존 r_meta = sqrt(Σ r_i²). 완료 시에만 내부 소구슬 최대 48개 미리보기.

UI:
- 상단 컨트롤: Threshold 슬라이더, Bins(1..8), Darkening(carry/resetLayer/resetAlways),
  MetaBall on/off+factor, Sound/High-Contrast 토글, PNG/WebM/JSON Export·Import.
- 좌측 메신저 사이드바. 채널 목록 5개. 골드 칩.

사운드:
- 충돌 “딱”, 아웃렛 “퉁”, bin 유입 “자잘한 붓는소리”. 기본 OFF 토글 제공.

접근성:
- High-Contrast 토글. 툴팁에 id/cat/layer/codon/impact/thEff/rel/children 표시.

성능·납품:
- React 18 + Tailwind + Canvas 2D. 단일 파일 `BeadFlowMessenger_Full.jsx`.
- 함수명: buildBeads, step, drawOnce 유지. 600줄 이내. 60fps에서 400 bead 목표.
- PNG/WebM/JSON 내보내기, JSON 불러오기 지원.

수용 기준:
- 구슬은 직선 경로만 이동. 흔들림·대롱거림 없음.
- 차단 구슬은 bin 앞 검은 점으로 정지하고 번호가 찍힌다.
- 코돈/계층에 따라 반지름이 확연히 다르다.
- 임계 0.5/0.75/1.0 구간별 색상 전환이 즉시 반영된다.
```

현재 코드 빠른 수정이 필요하면 `step()`만 이렇게 바꿔라. 고무줄 제거용 최소 패치다.

```js
const DT = 1/60, FRICTION = 0.985, VMAX = 420;
for (const b of beads) {
  if (b.phase >= 3) continue;
  const tgt = b.phase===0? b.tgt1 : b.phase===1? b.tgt2 : b.tgt3;
  const dx = tgt.x - b.p.x, dy = tgt.y - b.p.y;
  const len = Math.hypot(dx, dy) || 1, ux = dx/len, uy = dy/len;
  const ACC = b.phase===2 ? 220 : (b.phase===1 ? 160 : 140);
  b.v.x += ux * ACC * DT;
  b.v.y += (uy * ACC + (b.phase===2 ? 260 : 120)) * DT;
  b.v.x *= FRICTION; b.v.y *= FRICTION;
  const s = Math.hypot(b.v.x, b.v.y); if (s > VMAX) { b.v.x *= VMAX/s; b.v.y *= VMAX/s; }
  b.p.x += b.v.x * DT; b.p.y += b.v.y * DT;
}
```

이렇게 지시하면 A가 네가 의도한 당구식 흐름으로 만든다.
